!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@wordpress/api-fetch"),require("@wordpress/block-editor"),require("@wordpress/blocks"),require("@wordpress/components"),require("@wordpress/data"),require("@wordpress/element"),require("@wordpress/i18n")):"function"==typeof define&&define.amd?define(["@wordpress/api-fetch","@wordpress/block-editor","@wordpress/blocks","@wordpress/components","@wordpress/data","@wordpress/element","@wordpress/i18n"],t):"object"==typeof exports?exports.FlexiblePageNavigation=t(require("@wordpress/api-fetch"),require("@wordpress/block-editor"),require("@wordpress/blocks"),require("@wordpress/components"),require("@wordpress/data"),require("@wordpress/element"),require("@wordpress/i18n")):e.FlexiblePageNavigation=t(e.wp.apiFetch,e.wp.blockEditor,e.wp.blocks,e.wp.components,e.wp.data,e.wp.element,e.wp.i18n)}(this,(e,t,n,a,r,o,l)=>(()=>{"use strict";var i={15:e=>{e.exports=l},207:e=>{e.exports=n},313:e=>{e.exports=o},331:e=>{e.exports=r},470:e=>{e.exports=t},522:t=>{t.exports=e},611:e=>{e.exports=a}},c={};function d(e){var t=c[e];if(void 0!==t)return t.exports;var n=c[e]={exports:{}};return i[e](n,n.exports,d),n.exports}d.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return d.d(t,{a:t}),t},d.d=(e,t)=>{for(var n in t)d.o(t,n)&&!d.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},d.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),d.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var u={};d.r(u);var g=d(207),s=d(15),p=d(470),f=d(611),b=d(313),m=d(522),v=d.n(m),y=d(331);function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o,l,i=[],c=!0,d=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=o.call(n)).done)&&(i.push(a.value),i.length!==t);c=!0);}catch(e){d=!0,r=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(d)throw r}}return i}}(e,t)||C(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){if(e){if("string"==typeof e)return x(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var _="vertical";return(0,g.registerBlockType)("flexible-page-navigation/flexible-nav-vertical",{attributes:{contentType:{type:"string",default:"page"},sortBy:{type:"string",default:"menu_order"},sortOrder:{type:"string",default:"ASC"},depth:{type:"number",default:3},childSelection:{type:"string",default:"all"},parentPageId:{type:"number",default:0},accordionEnabled:{type:"boolean",default:!0},columnLayout:{type:"string",default:"single"},showActiveIndicator:{type:"boolean",default:!0},firstLevelItemBackgroundColor:{type:"string",default:""},firstLevelItemColor:{type:"string",default:""},backgroundColor:{type:"string",default:"#f8f9fa"},textColor:{type:"string",default:"#333333"},activeBackgroundColor:{type:"string",default:"#007cba"},activeTextColor:{type:"string",default:"#ffffff"},activePadding:{type:"number",default:8},childActiveBackgroundColor:{type:"string",default:"#e8f4fd"},childActiveTextColor:{type:"string",default:"#333333"},separatorEnabled:{type:"boolean",default:!0},separatorWidth:{type:"number",default:2},separatorColor:{type:"string",default:"#e0e0e0"},separatorPadding:{type:"number",default:20},hoverEffect:{type:"string",default:"underline"},hoverBackgroundColor:{type:"string",default:"rgba(0,0,0,0.1)"},mainItemFontWeight:{type:"string",default:"600"},mainItemFontSize:{type:"number",default:16},mainItemTextColor:{type:"string",default:"#333333"},mobileBreakpoint:{type:"number",default:768},menuOrientation:{type:"string",default:_}},edit:function(e){var t=e.attributes,n=e.setAttributes,a=t.contentType,r=t.sortBy,o=t.sortOrder,l=t.depth,i=t.childSelection,c=t.parentPageId,d=t.accordionEnabled,u=t.columnLayout,g=t.showActiveIndicator,m=t.firstLevelItemBackgroundColor,E=t.firstLevelItemColor,R=t.backgroundColor,k=t.textColor,w=t.activeBackgroundColor,B=t.activeTextColor,T=t.activePadding,A=t.childActiveBackgroundColor,S=t.childActiveTextColor,P=t.separatorEnabled,I=t.separatorWidth,O=t.separatorColor,D=t.separatorPadding,L=(t.hoverEffect,t.hoverBackgroundColor,t.mainItemFontWeight,t.mainItemFontSize,t.mainItemTextColor,t.mobileBreakpoint,t.menuOrientation);(0,b.useEffect)(function(){L!==_&&n({menuOrientation:_})},[L]);var q=h((0,b.useState)([]),2),j=q[0],F=q[1],M=h((0,b.useState)(!0),2),N=M[0],W=M[1];(0,b.useEffect)(function(){var e=[{label:(0,s.__)("Pages","flexible-page-navigation"),value:"page"},{label:(0,s.__)("Posts","flexible-page-navigation"),value:"post"}];v()({path:"/wp/v2/types"}).then(function(t){var n=Object.keys(t).filter(function(e){return!["page","post"].includes(e)}).map(function(e){return{label:t[e].name,value:e}}).map(function(e){return v()({path:"/wp/v2/".concat(e.value,"?per_page=1")}).then(function(){return e}).catch(function(){return null})});Promise.all(n).then(function(t){var n;F([].concat(e,function(e){if(Array.isArray(e))return x(e)}(n=t.filter(Boolean))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||C(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),W(!1)}).catch(function(){F(e),W(!1)})}).catch(function(){F(e),W(!1)})},[]);var z=(0,p.useBlockProps)({className:"fpn-navigation-editor",style:{backgroundColor:R,color:k,padding:"1rem",border:"1px solid #ddd",borderRadius:"4px"}}),U=[{label:(0,s.__)("Menu Order","flexible-page-navigation"),value:"menu_order"},{label:(0,s.__)("Title","flexible-page-navigation"),value:"title"},{label:(0,s.__)("Date","flexible-page-navigation"),value:"date"},{label:(0,s.__)("ID","flexible-page-navigation"),value:"ID"},{label:(0,s.__)("Author","flexible-page-navigation"),value:"author"},{label:(0,s.__)("Modified Date","flexible-page-navigation"),value:"modified"}],V=[{label:(0,s.__)("Current Page Children","flexible-page-navigation"),value:"current"},{label:(0,s.__)("All Items","flexible-page-navigation"),value:"all"},{label:(0,s.__)("Custom Parent","flexible-page-navigation"),value:"custom"}],$=[{label:(0,s.__)("Single Column","flexible-page-navigation"),value:"single"},{label:(0,s.__)("Two Columns","flexible-page-navigation"),value:"two-columns"},{label:(0,s.__)("Three Columns","flexible-page-navigation"),value:"three-columns"},{label:(0,s.__)("Four Columns","flexible-page-navigation"),value:"four-columns"}],G=(0,y.useSelect)(function(e){return e("core/block-editor").getSettings().colors},[]);return React.createElement(React.Fragment,null,React.createElement(p.InspectorControls,null,React.createElement(f.PanelBody,{title:(0,s.__)("Content Settings","flexible-page-navigation"),initialOpen:!0},React.createElement(f.SelectControl,{label:(0,s.__)("Content Type","flexible-page-navigation"),value:a,options:j,onChange:function(e){return n({contentType:e})},disabled:N}),React.createElement(f.SelectControl,{label:(0,s.__)("Sort By","flexible-page-navigation"),value:r,options:U,onChange:function(e){return n({sortBy:e})}}),React.createElement(f.SelectControl,{label:(0,s.__)("Sort Order","flexible-page-navigation"),value:o,options:[{label:(0,s.__)("Ascending","flexible-page-navigation"),value:"ASC"},{label:(0,s.__)("Descending","flexible-page-navigation"),value:"DESC"}],onChange:function(e){return n({sortOrder:e})}}),React.createElement(f.RangeControl,{label:(0,s.__)("Depth","flexible-page-navigation"),value:l,onChange:function(e){return n({depth:e})},min:1,max:10}),React.createElement(f.SelectControl,{label:(0,s.__)("Child Selection","flexible-page-navigation"),value:i,options:V,onChange:function(e){return n({childSelection:e})}}),"custom"===i&&React.createElement(f.NumberControl,{label:(0,s.__)("Parent Page ID","flexible-page-navigation"),value:c,onChange:function(e){return n({parentPageId:Number(e)||0})},min:1,step:1})),React.createElement(f.PanelBody,{title:(0,s.__)("Layout","flexible-page-navigation"),initialOpen:!1},React.createElement(f.SelectControl,{label:(0,s.__)("Column Layout","flexible-page-navigation"),value:u,options:$,onChange:function(e){return n({columnLayout:e})}}),React.createElement(f.ToggleControl,{label:(0,s.__)("Enable Accordion","flexible-page-navigation"),checked:d,onChange:function(e){return n({accordionEnabled:e})}}),React.createElement(f.ToggleControl,{label:(0,s.__)("Show Active Indicator","flexible-page-navigation"),checked:g,onChange:function(e){return n({showActiveIndicator:e})}}),React.createElement(f.RangeControl,{label:(0,s.__)("Main Items Padding","flexible-page-navigation"),help:(0,s.__)("Applies to the active main item; if Show Active Indicator is off, applies to all main items.","flexible-page-navigation"),value:T,onChange:function(e){return n({activePadding:e})},min:0,max:20}),React.createElement(f.ToggleControl,{label:(0,s.__)("Enable Left Border Lines","flexible-page-navigation"),checked:P,onChange:function(e){n({separatorEnabled:e}),e||n({separatorWidth:0})}}),P&&React.createElement(React.Fragment,null,React.createElement(f.RangeControl,{label:(0,s.__)("Border Line Width","flexible-page-navigation"),value:I,onChange:function(e){return n({separatorWidth:e})},min:0,max:10}),React.createElement("div",{style:{marginBottom:"1em"}},React.createElement("label",{style:{display:"block",marginBottom:4}},(0,s.__)("Border Line Color","flexible-page-navigation")),React.createElement(f.Dropdown,{renderToggle:function(e){var t=e.isOpen,n=e.onToggle;return React.createElement("button",{onClick:n,"aria-expanded":t,style:{width:32,height:32,borderRadius:"50%",border:"1px solid #ccc",background:O||"#fff"}})},renderContent:function(){return React.createElement("div",{style:{padding:8}},React.createElement(p.ColorPalette,{value:O,onChange:function(e){return n({separatorColor:e})},colors:G,enableAlpha:!1,clearable:!0}))}}))),React.createElement(f.RangeControl,{label:(0,s.__)("Submenu Indentation","flexible-page-navigation"),value:D,onChange:function(e){return n({separatorPadding:e})},min:10,max:50})),React.createElement(f.PanelBody,{title:(0,s.__)("Colors","flexible-page-navigation"),initialOpen:!1},React.createElement("div",{style:{marginBottom:"1em"}},React.createElement("label",{style:{display:"block",marginBottom:4}},(0,s.__)("Background Color","flexible-page-navigation")),React.createElement(f.Dropdown,{renderToggle:function(e){var t=e.isOpen,n=e.onToggle;return React.createElement("button",{onClick:n,"aria-expanded":t,style:{width:32,height:32,borderRadius:"50%",border:"1px solid #ccc",background:R||"#fff"}})},renderContent:function(){return React.createElement("div",{style:{padding:8}},React.createElement(p.ColorPalette,{value:R,onChange:function(e){return n({backgroundColor:e})},colors:G,enableAlpha:!1,clearable:!0}))}})),React.createElement("div",{style:{marginBottom:"1em"}},React.createElement("label",{style:{display:"block",marginBottom:4}},(0,s.__)("Text Color","flexible-page-navigation")),React.createElement(f.Dropdown,{renderToggle:function(e){var t=e.isOpen,n=e.onToggle;return React.createElement("button",{onClick:n,"aria-expanded":t,style:{width:32,height:32,borderRadius:"50%",border:"1px solid #ccc",background:k||"#fff"}})},renderContent:function(){return React.createElement("div",{style:{padding:8}},React.createElement(p.ColorPalette,{value:k,onChange:function(e){return n({textColor:e})},colors:G,enableAlpha:!1,clearable:!0}))}})),!g&&React.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12}},React.createElement("div",null,React.createElement("label",{style:{display:"block",marginBottom:4}},(0,s.__)("First Level Background Color","flexible-page-navigation")),React.createElement(f.Dropdown,{renderToggle:function(e){var t=e.isOpen,n=e.onToggle;return React.createElement("button",{onClick:n,"aria-expanded":t,style:{width:32,height:32,borderRadius:"50%",border:"1px solid #ccc",background:m||"#fff"}})},renderContent:function(){return React.createElement("div",{style:{padding:8}},React.createElement(p.ColorPalette,{value:m,onChange:function(e){return n({firstLevelItemBackgroundColor:e})},colors:G,enableAlpha:!1,clearable:!0}))}})),React.createElement("div",null,React.createElement("label",{style:{display:"block",marginBottom:4}},(0,s.__)("First Level Text Color","flexible-page-navigation")),React.createElement(f.Dropdown,{renderToggle:function(e){var t=e.isOpen,n=e.onToggle;return React.createElement("button",{onClick:n,"aria-expanded":t,style:{width:32,height:32,borderRadius:"50%",border:"1px solid #ccc",background:E||"#fff"}})},renderContent:function(){return React.createElement("div",{style:{padding:8}},React.createElement(p.ColorPalette,{value:E,onChange:function(e){return n({firstLevelItemColor:e})},colors:G,enableAlpha:!1,clearable:!0}))}}))),g&&React.createElement("div",{style:{marginBottom:"1em"}},React.createElement("label",{style:{display:"block",marginBottom:4}},(0,s.__)("Active Background Color","flexible-page-navigation")),React.createElement(f.Dropdown,{renderToggle:function(e){var t=e.isOpen,n=e.onToggle;return React.createElement("button",{onClick:n,"aria-expanded":t,style:{width:32,height:32,borderRadius:"50%",border:"1px solid #ccc",background:w||"#fff"}})},renderContent:function(){return React.createElement("div",{style:{padding:8}},React.createElement(p.ColorPalette,{value:w,onChange:function(e){return n({activeBackgroundColor:e})},colors:G,enableAlpha:!1,clearable:!0}))}})),g&&React.createElement("div",{style:{marginBottom:"1em"}},React.createElement("label",{style:{display:"block",marginBottom:4}},(0,s.__)("Active Text Color","flexible-page-navigation")),React.createElement(f.Dropdown,{renderToggle:function(e){var t=e.isOpen,n=e.onToggle;return React.createElement("button",{onClick:n,"aria-expanded":t,style:{width:32,height:32,borderRadius:"50%",border:"1px solid #ccc",background:B||"#fff"}})},renderContent:function(){return React.createElement("div",{style:{padding:8}},React.createElement(p.ColorPalette,{value:B,onChange:function(e){return n({activeTextColor:e})},colors:G,enableAlpha:!1,clearable:!0}))}})),g&&React.createElement("div",{style:{marginBottom:"1em"}},React.createElement("label",{style:{display:"block",marginBottom:4}},(0,s.__)("Child Active Background Color","flexible-page-navigation")),React.createElement(f.Dropdown,{renderToggle:function(e){var t=e.isOpen,n=e.onToggle;return React.createElement("button",{onClick:n,"aria-expanded":t,style:{width:32,height:32,borderRadius:"50%",border:"1px solid #ccc",background:A||"#fff"}})},renderContent:function(){return React.createElement("div",{style:{padding:8}},React.createElement(p.ColorPalette,{value:A,onChange:function(e){return n({childActiveBackgroundColor:e})},colors:G,enableAlpha:!1,clearable:!0}))}})),g&&React.createElement("div",{style:{marginBottom:"1em"}},React.createElement("label",{style:{display:"block",marginBottom:4}},(0,s.__)("Child Active Text Color","flexible-page-navigation")),React.createElement(f.Dropdown,{renderToggle:function(e){var t=e.isOpen,n=e.onToggle;return React.createElement("button",{onClick:n,"aria-expanded":t,style:{width:32,height:32,borderRadius:"50%",border:"1px solid #ccc",background:S||"#fff"}})},renderContent:function(){return React.createElement("div",{style:{padding:8}},React.createElement(p.ColorPalette,{value:S,onChange:function(e){return n({childActiveTextColor:e})},colors:G,enableAlpha:!1,clearable:!0}))}})))),React.createElement("div",z,React.createElement("div",{className:"fpn-editor-preview"},React.createElement("h4",null,(0,s.__)("Flexible Page Navigation (Vertical)","flexible-page-navigation")),React.createElement("p",null,(0,s.__)("Depth:","flexible-page-navigation")," ",l))))},save:function(){return null}}),u})());