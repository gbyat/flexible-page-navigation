(()=>{"use strict";var e={n:a=>{var n=a&&a.__esModule?()=>a.default:()=>a;return e.d(n,{a:n}),n},d:(a,n)=>{for(var t in n)e.o(n,t)&&!e.o(a,t)&&Object.defineProperty(a,t,{enumerable:!0,get:n[t]})},o:(e,a)=>Object.prototype.hasOwnProperty.call(e,a)};const a=void 0,n=void 0,t=void 0,l=void 0;var o=e.n(void 0);function i(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,l,o,i,r=[],c=!0,g=!1;try{if(o=(n=n.call(e)).next,0===a){if(Object(n)!==n)return;c=!1}else for(;!(c=(t=o.call(n)).done)&&(r.push(t.value),r.length!==a);c=!0);}catch(e){g=!0,l=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(g)throw l}}return r}}(e,a)||r(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,a){if(e){if("string"==typeof e)return c(e,a);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,a):void 0}}function c(e,a){(null==a||a>e.length)&&(a=e.length);for(var n=0,t=Array(a);n<a;n++)t[n]=e[n];return t}(0,(void 0).registerBlockType)("flexible-page-navigation/flexible-nav",{edit:function(e){var g=e.attributes,u=e.setAttributes,v=g.contentType,p=g.sortBy,b=g.sortOrder,f=g.depth,_=g.childSelection,d=g.menuDisplayMode,m=g.parentPageId,s=g.accordionEnabled,h=g.columnLayout,x=g.showActiveIndicator,C=(g.separator,g.hoverEffect),E=g.backgroundColor,R=g.textColor,y=g.activeBackgroundColor,S=g.activeTextColor,P=g.activePadding,A=g.childActiveBackgroundColor,I=g.childActiveTextColor,B=g.separatorEnabled,k=g.separatorWidth,w=g.separatorColor,T=g.separatorPadding,D=g.hoverBackgroundColor,O=g.mainItemFontWeight,F=g.mainItemFontSize,L=g.mainItemTextColor,M=i((0,l.useState)(!0),2),j=(M[0],M[1]),W=i((0,l.useState)([]),2),N=W[0],U=W[1];(0,l.useEffect)(function(){o()({path:"/wp/v2/posts?per_page=1"}).then(function(){var e=[{label:(0,a.__)("Pages","flexible-page-navigation"),value:"page"},{label:(0,a.__)("Posts","flexible-page-navigation"),value:"post"}],n=["wiki","product","event","portfolio","team","testimonial","faq","service"].map(function(e){return o()({path:"/wp/v2/".concat(e,"?per_page=1")}).then(function(){return{label:e.charAt(0).toUpperCase()+e.slice(1),value:e}}).catch(function(){return null})});Promise.all(n).then(function(a){var n=a.filter(function(e){return null!==e});console.log("Discovered custom types:",n);var t,l=[].concat(e,function(e){if(Array.isArray(e))return c(e)}(t=n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||r(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());console.log("Final all types:",l),U(l),j(!1)}).catch(function(){console.log("Using fallback types"),U(e),j(!1)})}).catch(function(){U([{label:(0,a.__)("Pages","flexible-page-navigation"),value:"page"},{label:(0,a.__)("Posts","flexible-page-navigation"),value:"post"}]),j(!1)})},[]);var z=(0,n.useBlockProps)({className:"fpn-navigation-editor",style:{backgroundColor:E,color:R,padding:"1rem",border:"1px solid #ddd",borderRadius:"4px"}}),H=[{label:(0,a.__)("Menu Order","flexible-page-navigation"),value:"menu_order"},{label:(0,a.__)("Title","flexible-page-navigation"),value:"title"},{label:(0,a.__)("Date","flexible-page-navigation"),value:"date"},{label:(0,a.__)("ID","flexible-page-navigation"),value:"ID"}],q=[{label:(0,a.__)("Ascending","flexible-page-navigation"),value:"ASC"},{label:(0,a.__)("Descending","flexible-page-navigation"),value:"DESC"}],$=[{label:(0,a.__)("Current Page","flexible-page-navigation"),value:"current"},{label:(0,a.__)("Custom Page","flexible-page-navigation"),value:"custom"}],G=[{label:(0,a.__)("Single Column","flexible-page-navigation"),value:"single"},{label:(0,a.__)("2 Columns","flexible-page-navigation"),value:"2-columns"},{label:(0,a.__)("3 Columns","flexible-page-navigation"),value:"3-columns"},{label:(0,a.__)("4 Columns","flexible-page-navigation"),value:"4-columns"}];return React.createElement(React.Fragment,null,React.createElement(n.InspectorControls,null,React.createElement(t.PanelBody,{title:(0,a.__)("Navigation Settings","flexible-page-navigation"),initialOpen:!0},React.createElement(t.SelectControl,{label:(0,a.__)("Content Type","flexible-page-navigation"),value:v,options:N,onChange:function(e){return u({contentType:e})}}),React.createElement(t.SelectControl,{label:(0,a.__)("Sort By","flexible-page-navigation"),value:p,options:H,onChange:function(e){return u({sortBy:e})}}),React.createElement(t.SelectControl,{label:(0,a.__)("Sort Order","flexible-page-navigation"),value:b,options:q,onChange:function(e){return u({sortOrder:e})}}),React.createElement(t.RangeControl,{label:(0,a.__)("Depth","flexible-page-navigation"),value:f,onChange:function(e){return u({depth:e})},min:1,max:5}),React.createElement(t.SelectControl,{label:(0,a.__)("Menu Display Mode","flexible-page-navigation"),value:d,options:[{label:(0,a.__)("Show Children Only","flexible-page-navigation"),value:"children"},{label:(0,a.__)("Show All Items","flexible-page-navigation"),value:"all"}],onChange:function(e){return u({menuDisplayMode:e})},help:(0,a.__)("Choose whether to show only children or all items of the selected content type","flexible-page-navigation")}),"children"===d&&React.createElement(React.Fragment,null,React.createElement(t.SelectControl,{label:(0,a.__)("Child Selection","flexible-page-navigation"),value:_,options:$,onChange:function(e){return u({childSelection:e})}}),"custom"===_&&React.createElement(t.TextControl,{label:(0,a.__)("Parent Post ID","flexible-page-navigation"),value:m||"",onChange:function(e){return u({parentPageId:parseInt(e)||0})},help:(0,a.__)("Enter the ID of the parent post/page (any post type)","flexible-page-navigation"),type:"number",min:"0"})),React.createElement(t.ToggleControl,{label:(0,a.__)("Enable Accordion","flexible-page-navigation"),checked:s,onChange:function(e){return u({accordionEnabled:e})},help:(0,a.__)("Enable accordion functionality for top-level items","flexible-page-navigation")}),React.createElement(t.SelectControl,{label:(0,a.__)("Column Layout","flexible-page-navigation"),value:h,options:G,onChange:function(e){return u({columnLayout:e})},help:(0,a.__)("Choose how many columns to display the navigation in","flexible-page-navigation")}),React.createElement(t.ToggleControl,{label:(0,a.__)("Show Active Indicator","flexible-page-navigation"),checked:x,onChange:function(e){return u({showActiveIndicator:e})},help:(0,a.__)("Show visual indicator for active page","flexible-page-navigation")}),x&&React.createElement(t.RangeControl,{label:(0,a.__)("Active Item Padding","flexible-page-navigation"),value:P,onChange:function(e){return u({activePadding:e})},min:0,max:20,help:(0,a.__)("Padding for active navigation items (in pixels)","flexible-page-navigation")}),React.createElement(t.SelectControl,{label:(0,a.__)("Hover Effect","flexible-page-navigation"),value:C,options:[{label:(0,a.__)("None","flexible-page-navigation"),value:"none"},{label:(0,a.__)("Underline","flexible-page-navigation"),value:"underline"},{label:(0,a.__)("Background","flexible-page-navigation"),value:"background"},{label:(0,a.__)("Scale","flexible-page-navigation"),value:"scale"}],onChange:function(e){return u({hoverEffect:e})},help:(0,a.__)("Choose hover effect for navigation items","flexible-page-navigation")}),"background"===C&&React.createElement("div",null,React.createElement("label",null,(0,a.__)("Hover Background Color","flexible-page-navigation")),React.createElement(n.ColorPalette,{value:D,onChange:function(e){return u({hoverBackgroundColor:e})}})),React.createElement(t.ToggleControl,{label:(0,a.__)("Enable Left Border Lines","flexible-page-navigation"),checked:B,onChange:function(e){return u({separatorEnabled:e})},help:(0,a.__)("Show left border lines for submenu items to indicate hierarchy","flexible-page-navigation")}),React.createElement(t.RangeControl,{label:(0,a.__)("Border Line Width","flexible-page-navigation"),value:k,onChange:function(e){return u({separatorWidth:e})},min:1,max:10,help:(0,a.__)("Width of left border lines in pixels","flexible-page-navigation"),disabled:!B}),React.createElement("div",null,React.createElement("label",null,(0,a.__)("Border Line Color","flexible-page-navigation")),React.createElement(n.ColorPalette,{value:w,onChange:function(e){return u({separatorColor:e})},disabled:!B})),React.createElement(t.RangeControl,{label:(0,a.__)("Submenu Indentation","flexible-page-navigation"),value:T,onChange:function(e){return u({separatorPadding:e})},min:10,max:50,help:(0,a.__)("Left padding/indentation for submenu items in pixels","flexible-page-navigation")})),React.createElement(t.PanelBody,{title:(0,a.__)("Main Menu Items (Level 0)","flexible-page-navigation"),initialOpen:!1},React.createElement(t.SelectControl,{label:(0,a.__)("Font Weight","flexible-page-navigation"),value:O,options:[{label:(0,a.__)("Normal","flexible-page-navigation"),value:"400"},{label:(0,a.__)("Medium","flexible-page-navigation"),value:"500"},{label:(0,a.__)("Semi Bold","flexible-page-navigation"),value:"600"},{label:(0,a.__)("Bold","flexible-page-navigation"),value:"700"},{label:(0,a.__)("Extra Bold","flexible-page-navigation"),value:"800"}],onChange:function(e){return u({mainItemFontWeight:e})},help:(0,a.__)("Font weight for main menu items (level 0)","flexible-page-navigation")}),React.createElement(t.RangeControl,{label:(0,a.__)("Font Size","flexible-page-navigation"),value:F,onChange:function(e){return u({mainItemFontSize:e})},min:12,max:24,help:(0,a.__)("Font size for main menu items in pixels","flexible-page-navigation")}),React.createElement("div",null,React.createElement("label",null,(0,a.__)("Text Color","flexible-page-navigation")),React.createElement(n.ColorPalette,{value:L,onChange:function(e){return u({mainItemTextColor:e})}}))),React.createElement(t.PanelBody,{title:(0,a.__)("Colors","flexible-page-navigation"),initialOpen:!1},React.createElement("div",null,React.createElement("label",null,(0,a.__)("Background Color","flexible-page-navigation")),React.createElement(n.ColorPalette,{value:E,onChange:function(e){return u({backgroundColor:e})}})),React.createElement("div",null,React.createElement("label",null,(0,a.__)("Text Color","flexible-page-navigation")),React.createElement(n.ColorPalette,{value:R,onChange:function(e){return u({textColor:e})}})),React.createElement("div",null,React.createElement("label",null,(0,a.__)("Active Background Color","flexible-page-navigation")),React.createElement(n.ColorPalette,{value:y,onChange:function(e){return u({activeBackgroundColor:e})}})),React.createElement("div",null,React.createElement("label",null,(0,a.__)("Active Text Color","flexible-page-navigation")),React.createElement(n.ColorPalette,{value:S,onChange:function(e){return u({activeTextColor:e})}})),React.createElement("div",null,React.createElement("label",null,(0,a.__)("Child Active Background Color","flexible-page-navigation")),React.createElement(n.ColorPalette,{value:A,onChange:function(e){return u({childActiveBackgroundColor:e})}})),React.createElement("div",null,React.createElement("label",null,(0,a.__)("Child Active Text Color","flexible-page-navigation")),React.createElement(n.ColorPalette,{value:I,onChange:function(e){return u({childActiveTextColor:e})}})))),React.createElement("div",z,React.createElement("div",{className:"fpn-editor-preview"},React.createElement("h4",null,(0,a.__)("Flexible Page Navigation","flexible-page-navigation")),React.createElement("p",null,(0,a.__)("Content Type:","flexible-page-navigation")," ",v," |"," ",(0,a.__)("Sort:","flexible-page-navigation")," ",p," (",b,") |"," ",(0,a.__)("Depth:","flexible-page-navigation")," ",f),React.createElement("p",null,(0,a.__)("Child Selection:","flexible-page-navigation")," ",_,"custom"===_&&m>0&&React.createElement("span",null," - ",(0,a.__)("Parent ID:","flexible-page-navigation")," ",m)),React.createElement("p",null,(0,a.__)("Accordion:","flexible-page-navigation")," ",s?(0,a.__)("Enabled","flexible-page-navigation"):(0,a.__)("Disabled","flexible-page-navigation")),React.createElement("p",null,(0,a.__)("Layout:","flexible-page-navigation")," ",h.replace("-"," ").replace(/\b\w/g,function(e){return e.toUpperCase()})))))},save:function(){return null}})})();