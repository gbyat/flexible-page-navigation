(()=>{"use strict";var e={n:a=>{var n=a&&a.__esModule?()=>a.default:()=>a;return e.d(n,{a:n}),n},d:(a,n)=>{for(var t in n)e.o(n,t)&&!e.o(a,t)&&Object.defineProperty(a,t,{enumerable:!0,get:n[t]})},o:(e,a)=>Object.prototype.hasOwnProperty.call(e,a)};const a=void 0,n=void 0,t=void 0,l=void 0;var i=e.n(void 0);function o(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,l,i,o,r=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===a){if(Object(n)!==n)return;c=!1}else for(;!(c=(t=i.call(n)).done)&&(r.push(t.value),r.length!==a);c=!0);}catch(e){u=!0,l=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw l}}return r}}(e,a)||r(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,a){if(e){if("string"==typeof e)return c(e,a);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,a):void 0}}function c(e,a){(null==a||a>e.length)&&(a=e.length);for(var n=0,t=Array(a);n<a;n++)t[n]=e[n];return t}(0,(void 0).registerBlockType)("flexible-page-navigation/flexible-nav",{edit:function(e){var u=e.attributes,g=e.setAttributes,v=u.contentType,p=u.sortBy,b=u.sortOrder,f=u.depth,_=u.childSelection,d=(u.menuDisplayMode,u.parentPageId),m=u.accordionEnabled,s=u.columnLayout,h=u.showActiveIndicator,x=(u.separator,u.hoverEffect),C=u.backgroundColor,E=u.textColor,R=u.activeBackgroundColor,y=u.activeTextColor,S=u.activePadding,P=u.childActiveBackgroundColor,A=u.childActiveTextColor,I=u.separatorEnabled,B=u.separatorWidth,T=u.separatorColor,k=u.separatorPadding,w=u.hoverBackgroundColor,D=u.mainItemFontWeight,O=u.mainItemFontSize,F=u.mainItemTextColor,L=o((0,l.useState)([]),2),M=L[0],j=L[1],W=o((0,l.useState)(!0),2),N=W[0],z=W[1];(0,l.useEffect)(function(){var e=[{label:(0,a.__)("Pages","flexible-page-navigation"),value:"page"},{label:(0,a.__)("Posts","flexible-page-navigation"),value:"post"}];i()({path:"/wp/v2/types"}).then(function(a){var n=Object.keys(a).filter(function(e){return!["page","post"].includes(e)}).map(function(e){return{label:a[e].name,value:e}}).map(function(e){return i()({path:"/wp/v2/".concat(e.value,"?per_page=1")}).then(function(){return e}).catch(function(){return null})});Promise.all(n).then(function(a){var n=a.filter(function(e){return null!==e});console.log("Discovered custom types:",n);var t,l=[].concat(e,function(e){if(Array.isArray(e))return c(e)}(t=n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||r(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());console.log("Final all types:",l),j(l),z(!1)}).catch(function(){console.log("Using fallback types"),j(e),z(!1)})}).catch(function(){j([{label:(0,a.__)("Pages","flexible-page-navigation"),value:"page"},{label:(0,a.__)("Posts","flexible-page-navigation"),value:"post"}]),z(!1)})},[]);var U=(0,n.useBlockProps)({className:"fpn-navigation-editor",style:{backgroundColor:C,color:E,padding:"1rem",border:"1px solid #ddd",borderRadius:"4px"}}),H=[{label:(0,a.__)("Menu Order","flexible-page-navigation"),value:"menu_order"},{label:(0,a.__)("Title","flexible-page-navigation"),value:"title"},{label:(0,a.__)("Date","flexible-page-navigation"),value:"date"},{label:(0,a.__)("ID","flexible-page-navigation"),value:"ID"},{label:(0,a.__)("Author","flexible-page-navigation"),value:"author"},{label:(0,a.__)("Modified Date","flexible-page-navigation"),value:"modified"}],$=[{label:(0,a.__)("Ascending","flexible-page-navigation"),value:"ASC"},{label:(0,a.__)("Descending","flexible-page-navigation"),value:"DESC"}],q=[{label:(0,a.__)("Current Page Children","flexible-page-navigation"),value:"current"},{label:(0,a.__)("All Items","flexible-page-navigation"),value:"all"},{label:(0,a.__)("Custom Parent","flexible-page-navigation"),value:"custom"}],G=[{label:(0,a.__)("Single Column","flexible-page-navigation"),value:"single"},{label:(0,a.__)("Two Columns","flexible-page-navigation"),value:"two-columns"},{label:(0,a.__)("Three Columns","flexible-page-navigation"),value:"three-columns"},{label:(0,a.__)("Four Columns","flexible-page-navigation"),value:"four-columns"}],J=[{label:(0,a.__)("None","flexible-page-navigation"),value:"none"},{label:(0,a.__)("Underline","flexible-page-navigation"),value:"underline"},{label:(0,a.__)("Background","flexible-page-navigation"),value:"background"},{label:(0,a.__)("Scale","flexible-page-navigation"),value:"scale"}];return React.createElement(React.Fragment,null,React.createElement(n.InspectorControls,null,React.createElement(t.PanelBody,{title:(0,a.__)("Content Settings","flexible-page-navigation"),initialOpen:!0},React.createElement(t.SelectControl,{label:(0,a.__)("Content Type","flexible-page-navigation"),value:v,options:M,onChange:function(e){return g({contentType:e})},disabled:N}),React.createElement(t.SelectControl,{label:(0,a.__)("Sort By","flexible-page-navigation"),value:p,options:H,onChange:function(e){return g({sortBy:e})}}),React.createElement(t.SelectControl,{label:(0,a.__)("Sort Order","flexible-page-navigation"),value:b,options:$,onChange:function(e){return g({sortOrder:e})}}),React.createElement(t.RangeControl,{label:(0,a.__)("Depth","flexible-page-navigation"),value:f,onChange:function(e){return g({depth:e})},min:1,max:10,help:(0,a.__)("Maximum depth of navigation hierarchy","flexible-page-navigation")}),React.createElement(t.SelectControl,{label:(0,a.__)("Child Selection","flexible-page-navigation"),value:_,options:q,onChange:function(e){return g({childSelection:e})},help:(0,a.__)("How to select which items to display","flexible-page-navigation")}),"custom"===_&&React.createElement(t.TextControl,{label:(0,a.__)("Parent Page ID","flexible-page-navigation"),type:"number",value:d,onChange:function(e){return g({parentPageId:parseInt(e)||0})},help:(0,a.__)("Enter the ID of the parent page to show its children","flexible-page-navigation")})),React.createElement(t.PanelBody,{title:(0,a.__)("Display Settings","flexible-page-navigation"),initialOpen:!1},React.createElement(t.ToggleControl,{label:(0,a.__)("Enable Accordion","flexible-page-navigation"),checked:m,onChange:function(e){return g({accordionEnabled:e})},help:(0,a.__)("Enable collapsible accordion functionality","flexible-page-navigation")}),React.createElement(t.SelectControl,{label:(0,a.__)("Column Layout","flexible-page-navigation"),value:s,options:G,onChange:function(e){return g({columnLayout:e})},help:(0,a.__)("Choose the column layout for navigation items","flexible-page-navigation")}),React.createElement(t.ToggleControl,{label:(0,a.__)("Show Active Indicator","flexible-page-navigation"),checked:h,onChange:function(e){return g({showActiveIndicator:e})},help:(0,a.__)("Show visual indicator for active page","flexible-page-navigation")}),h&&React.createElement(t.RangeControl,{label:(0,a.__)("Active Item Padding","flexible-page-navigation"),value:S,onChange:function(e){return g({activePadding:e})},min:0,max:20,help:(0,a.__)("Padding for active navigation items (in pixels)","flexible-page-navigation")}),React.createElement(t.SelectControl,{label:(0,a.__)("Hover Effect","flexible-page-navigation"),value:x,options:J,onChange:function(e){return g({hoverEffect:e})},help:(0,a.__)("Choose hover effect for navigation items","flexible-page-navigation")}),"background"===x&&React.createElement("div",null,React.createElement("label",null,(0,a.__)("Hover Background Color","flexible-page-navigation")),React.createElement(n.ColorPalette,{value:w,onChange:function(e){return g({hoverBackgroundColor:e})}})),React.createElement(t.ToggleControl,{label:(0,a.__)("Enable Left Border Lines","flexible-page-navigation"),checked:I,onChange:function(e){return g({separatorEnabled:e})},help:(0,a.__)("Show left border lines for submenu items to indicate hierarchy","flexible-page-navigation")}),React.createElement(t.RangeControl,{label:(0,a.__)("Border Line Width","flexible-page-navigation"),value:B,onChange:function(e){return g({separatorWidth:e})},min:1,max:10,help:(0,a.__)("Width of left border lines in pixels","flexible-page-navigation"),disabled:!I}),React.createElement("div",null,React.createElement("label",null,(0,a.__)("Border Line Color","flexible-page-navigation")),React.createElement(n.ColorPalette,{value:T,onChange:function(e){return g({separatorColor:e})},disabled:!I})),React.createElement(t.RangeControl,{label:(0,a.__)("Submenu Indentation","flexible-page-navigation"),value:k,onChange:function(e){return g({separatorPadding:e})},min:10,max:50,help:(0,a.__)("Left padding/indentation for submenu items in pixels","flexible-page-navigation")})),React.createElement(t.PanelBody,{title:(0,a.__)("Main Menu Items (Level 0)","flexible-page-navigation"),initialOpen:!1},React.createElement(t.SelectControl,{label:(0,a.__)("Font Weight","flexible-page-navigation"),value:D,options:[{label:(0,a.__)("Normal","flexible-page-navigation"),value:"400"},{label:(0,a.__)("Medium","flexible-page-navigation"),value:"500"},{label:(0,a.__)("Semi Bold","flexible-page-navigation"),value:"600"},{label:(0,a.__)("Bold","flexible-page-navigation"),value:"700"},{label:(0,a.__)("Extra Bold","flexible-page-navigation"),value:"800"}],onChange:function(e){return g({mainItemFontWeight:e})},help:(0,a.__)("Font weight for main menu items (level 0)","flexible-page-navigation")}),React.createElement(t.RangeControl,{label:(0,a.__)("Font Size","flexible-page-navigation"),value:O,onChange:function(e){return g({mainItemFontSize:e})},min:12,max:24,help:(0,a.__)("Font size for main menu items in pixels","flexible-page-navigation")}),React.createElement("div",null,React.createElement("label",null,(0,a.__)("Text Color","flexible-page-navigation")),React.createElement(n.ColorPalette,{value:F,onChange:function(e){return g({mainItemTextColor:e})}}))),React.createElement(t.PanelBody,{title:(0,a.__)("Colors","flexible-page-navigation"),initialOpen:!1},React.createElement("div",null,React.createElement("label",null,(0,a.__)("Background Color","flexible-page-navigation")),React.createElement(n.ColorPalette,{value:C,onChange:function(e){return g({backgroundColor:e})}})),React.createElement("div",null,React.createElement("label",null,(0,a.__)("Text Color","flexible-page-navigation")),React.createElement(n.ColorPalette,{value:E,onChange:function(e){return g({textColor:e})}})),React.createElement("div",null,React.createElement("label",null,(0,a.__)("Active Background Color","flexible-page-navigation")),React.createElement(n.ColorPalette,{value:R,onChange:function(e){return g({activeBackgroundColor:e})}})),React.createElement("div",null,React.createElement("label",null,(0,a.__)("Active Text Color","flexible-page-navigation")),React.createElement(n.ColorPalette,{value:y,onChange:function(e){return g({activeTextColor:e})}})),React.createElement("div",null,React.createElement("label",null,(0,a.__)("Child Active Background Color","flexible-page-navigation")),React.createElement(n.ColorPalette,{value:P,onChange:function(e){return g({childActiveBackgroundColor:e})}})),React.createElement("div",null,React.createElement("label",null,(0,a.__)("Child Active Text Color","flexible-page-navigation")),React.createElement(n.ColorPalette,{value:A,onChange:function(e){return g({childActiveTextColor:e})}})))),React.createElement("div",U,React.createElement("div",{className:"fpn-editor-preview"},React.createElement("h4",null,(0,a.__)("Flexible Page Navigation","flexible-page-navigation")),React.createElement("p",null,(0,a.__)("Content Type:","flexible-page-navigation")," ",v," |"," ",(0,a.__)("Sort:","flexible-page-navigation")," ",p," (",b,") |"," ",(0,a.__)("Depth:","flexible-page-navigation")," ",f),React.createElement("p",null,(0,a.__)("Child Selection:","flexible-page-navigation")," ",_,"custom"===_&&d>0&&React.createElement("span",null," - ",(0,a.__)("Parent ID:","flexible-page-navigation")," ",d)),React.createElement("p",null,(0,a.__)("Accordion:","flexible-page-navigation")," ",m?(0,a.__)("Enabled","flexible-page-navigation"):(0,a.__)("Disabled","flexible-page-navigation")),React.createElement("p",null,(0,a.__)("Layout:","flexible-page-navigation")," ",s.replace("-"," ").replace(/\b\w/g,function(e){return e.toUpperCase()})))))},save:function(){return null}})})();