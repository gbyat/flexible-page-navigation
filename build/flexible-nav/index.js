!function(e,a){"object"==typeof exports&&"object"==typeof module?module.exports=a(require("@wordpress/api-fetch"),require("@wordpress/block-editor"),require("@wordpress/blocks"),require("@wordpress/components"),require("@wordpress/element"),require("@wordpress/i18n")):"function"==typeof define&&define.amd?define(["@wordpress/api-fetch","@wordpress/block-editor","@wordpress/blocks","@wordpress/components","@wordpress/element","@wordpress/i18n"],a):"object"==typeof exports?exports.FlexiblePageNavigation=a(require("@wordpress/api-fetch"),require("@wordpress/block-editor"),require("@wordpress/blocks"),require("@wordpress/components"),require("@wordpress/element"),require("@wordpress/i18n")):e.FlexiblePageNavigation=a(e.wp.apiFetch,e.wp.blockEditor,e.wp.blocks,e.wp.components,e.wp.element,e.wp.i18n)}(this,(e,a,t,n,l,o)=>(()=>{"use strict";var i={15:e=>{e.exports=o},207:e=>{e.exports=t},313:e=>{e.exports=l},470:e=>{e.exports=a},522:a=>{a.exports=e},611:e=>{e.exports=n}},r={};function c(e){var a=r[e];if(void 0!==a)return a.exports;var t=r[e]={exports:{}};return i[e](t,t.exports,c),t.exports}c.n=e=>{var a=e&&e.__esModule?()=>e.default:()=>e;return c.d(a,{a}),a},c.d=(e,a)=>{for(var t in a)c.o(a,t)&&!c.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:a[t]})},c.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var u={};c.r(u);var g=c(207),p=c(15),v=c(470),b=c(611),f=c(313),s=c(522),d=c.n(s);function _(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,l,o,i,r=[],c=!0,u=!1;try{if(o=(t=t.call(e)).next,0===a){if(Object(t)!==t)return;c=!1}else for(;!(c=(n=o.call(t)).done)&&(r.push(n.value),r.length!==a);c=!0);}catch(e){u=!0,l=e}finally{try{if(!c&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(u)throw l}}return r}}(e,a)||m(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,a){if(e){if("string"==typeof e)return x(e,a);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?x(e,a):void 0}}function x(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,n=Array(a);t<a;t++)n[t]=e[t];return n}return(0,g.registerBlockType)("flexible-page-navigation/flexible-nav",{edit:function(e){var a=e.attributes,t=e.setAttributes,n=a.contentType,l=a.sortBy,o=a.sortOrder,i=a.depth,r=a.childSelection,c=(a.menuDisplayMode,a.parentPageId),u=a.accordionEnabled,g=a.columnLayout,s=a.showActiveIndicator,h=(a.separator,a.hoverEffect),C=a.backgroundColor,E=a.textColor,y=a.activeBackgroundColor,R=a.activeTextColor,w=a.activePadding,S=a.childActiveBackgroundColor,P=a.childActiveTextColor,k=a.separatorEnabled,A=a.separatorWidth,I=a.separatorColor,B=a.separatorPadding,T=a.hoverBackgroundColor,O=a.mainItemFontWeight,D=a.mainItemFontSize,F=a.mainItemTextColor,j=_((0,f.useState)([]),2),q=j[0],M=j[1],L=_((0,f.useState)(!0),2),N=L[0],W=L[1];(0,f.useEffect)(function(){var e=[{label:(0,p.__)("Pages","flexible-page-navigation"),value:"page"},{label:(0,p.__)("Posts","flexible-page-navigation"),value:"post"}];d()({path:"/wp/v2/types"}).then(function(a){var t=Object.keys(a).filter(function(e){return!["page","post"].includes(e)}).map(function(e){return{label:a[e].name,value:e}}).map(function(e){return d()({path:"/wp/v2/".concat(e.value,"?per_page=1")}).then(function(){return e}).catch(function(){return null})});Promise.all(t).then(function(a){var t=a.filter(function(e){return null!==e});console.log("Discovered custom types:",t);var n,l=[].concat(e,function(e){if(Array.isArray(e))return x(e)}(n=t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||m(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());console.log("Final all types:",l),M(l),W(!1)}).catch(function(){console.log("Using fallback types"),M(e),W(!1)})}).catch(function(){M([{label:(0,p.__)("Pages","flexible-page-navigation"),value:"page"},{label:(0,p.__)("Posts","flexible-page-navigation"),value:"post"}]),W(!1)})},[]);var z=(0,v.useBlockProps)({className:"fpn-navigation-editor",style:{backgroundColor:C,color:E,padding:"1rem",border:"1px solid #ddd",borderRadius:"4px"}}),U=[{label:(0,p.__)("Menu Order","flexible-page-navigation"),value:"menu_order"},{label:(0,p.__)("Title","flexible-page-navigation"),value:"title"},{label:(0,p.__)("Date","flexible-page-navigation"),value:"date"},{label:(0,p.__)("ID","flexible-page-navigation"),value:"ID"},{label:(0,p.__)("Author","flexible-page-navigation"),value:"author"},{label:(0,p.__)("Modified Date","flexible-page-navigation"),value:"modified"}],H=[{label:(0,p.__)("Ascending","flexible-page-navigation"),value:"ASC"},{label:(0,p.__)("Descending","flexible-page-navigation"),value:"DESC"}],$=[{label:(0,p.__)("Current Page Children","flexible-page-navigation"),value:"current"},{label:(0,p.__)("All Items","flexible-page-navigation"),value:"all"},{label:(0,p.__)("Custom Parent","flexible-page-navigation"),value:"custom"}],G=[{label:(0,p.__)("Single Column","flexible-page-navigation"),value:"single"},{label:(0,p.__)("Two Columns","flexible-page-navigation"),value:"two-columns"},{label:(0,p.__)("Three Columns","flexible-page-navigation"),value:"three-columns"},{label:(0,p.__)("Four Columns","flexible-page-navigation"),value:"four-columns"}],J=[{label:(0,p.__)("None","flexible-page-navigation"),value:"none"},{label:(0,p.__)("Underline","flexible-page-navigation"),value:"underline"},{label:(0,p.__)("Background","flexible-page-navigation"),value:"background"},{label:(0,p.__)("Scale","flexible-page-navigation"),value:"scale"}];return React.createElement(React.Fragment,null,React.createElement(v.InspectorControls,null,React.createElement(b.PanelBody,{title:(0,p.__)("Content Settings","flexible-page-navigation"),initialOpen:!0},React.createElement(b.SelectControl,{label:(0,p.__)("Content Type","flexible-page-navigation"),value:n,options:q,onChange:function(e){return t({contentType:e})},disabled:N}),React.createElement(b.SelectControl,{label:(0,p.__)("Sort By","flexible-page-navigation"),value:l,options:U,onChange:function(e){return t({sortBy:e})}}),React.createElement(b.SelectControl,{label:(0,p.__)("Sort Order","flexible-page-navigation"),value:o,options:H,onChange:function(e){return t({sortOrder:e})}}),React.createElement(b.RangeControl,{label:(0,p.__)("Depth","flexible-page-navigation"),value:i,onChange:function(e){return t({depth:e})},min:1,max:10,help:(0,p.__)("Maximum depth of navigation hierarchy","flexible-page-navigation")}),React.createElement(b.SelectControl,{label:(0,p.__)("Child Selection","flexible-page-navigation"),value:r,options:$,onChange:function(e){return t({childSelection:e})},help:(0,p.__)("How to select which items to display","flexible-page-navigation")}),"custom"===r&&React.createElement(b.TextControl,{label:(0,p.__)("Parent Page ID","flexible-page-navigation"),type:"number",value:c,onChange:function(e){return t({parentPageId:parseInt(e)||0})},help:(0,p.__)("Enter the ID of the parent page to show its children","flexible-page-navigation")})),React.createElement(b.PanelBody,{title:(0,p.__)("Display Settings","flexible-page-navigation"),initialOpen:!1},React.createElement(b.ToggleControl,{label:(0,p.__)("Enable Accordion","flexible-page-navigation"),checked:u,onChange:function(e){return t({accordionEnabled:e})},help:(0,p.__)("Enable collapsible accordion functionality","flexible-page-navigation")}),React.createElement(b.SelectControl,{label:(0,p.__)("Column Layout","flexible-page-navigation"),value:g,options:G,onChange:function(e){return t({columnLayout:e})},help:(0,p.__)("Choose the column layout for navigation items","flexible-page-navigation")}),React.createElement(b.ToggleControl,{label:(0,p.__)("Show Active Indicator","flexible-page-navigation"),checked:s,onChange:function(e){return t({showActiveIndicator:e})},help:(0,p.__)("Show visual indicator for active page","flexible-page-navigation")}),s&&React.createElement(b.RangeControl,{label:(0,p.__)("Active Item Padding","flexible-page-navigation"),value:w,onChange:function(e){return t({activePadding:e})},min:0,max:20,help:(0,p.__)("Padding for active navigation items (in pixels)","flexible-page-navigation")}),React.createElement(b.SelectControl,{label:(0,p.__)("Hover Effect","flexible-page-navigation"),value:h,options:J,onChange:function(e){return t({hoverEffect:e})},help:(0,p.__)("Choose hover effect for navigation items","flexible-page-navigation")}),"background"===h&&React.createElement("div",null,React.createElement("label",null,(0,p.__)("Hover Background Color","flexible-page-navigation")),React.createElement(v.ColorPalette,{value:T,onChange:function(e){return t({hoverBackgroundColor:e})}})),React.createElement(b.ToggleControl,{label:(0,p.__)("Enable Left Border Lines","flexible-page-navigation"),checked:k,onChange:function(e){return t({separatorEnabled:e})},help:(0,p.__)("Show left border lines for submenu items to indicate hierarchy","flexible-page-navigation")}),React.createElement(b.RangeControl,{label:(0,p.__)("Border Line Width","flexible-page-navigation"),value:A,onChange:function(e){return t({separatorWidth:e})},min:1,max:10,help:(0,p.__)("Width of left border lines in pixels","flexible-page-navigation"),disabled:!k}),React.createElement("div",null,React.createElement("label",null,(0,p.__)("Border Line Color","flexible-page-navigation")),React.createElement(v.ColorPalette,{value:I,onChange:function(e){return t({separatorColor:e})},disabled:!k})),React.createElement(b.RangeControl,{label:(0,p.__)("Submenu Indentation","flexible-page-navigation"),value:B,onChange:function(e){return t({separatorPadding:e})},min:10,max:50,help:(0,p.__)("Left padding/indentation for submenu items in pixels","flexible-page-navigation")})),React.createElement(b.PanelBody,{title:(0,p.__)("Main Menu Items (Level 0)","flexible-page-navigation"),initialOpen:!1},React.createElement(b.SelectControl,{label:(0,p.__)("Font Weight","flexible-page-navigation"),value:O,options:[{label:(0,p.__)("Normal","flexible-page-navigation"),value:"400"},{label:(0,p.__)("Medium","flexible-page-navigation"),value:"500"},{label:(0,p.__)("Semi Bold","flexible-page-navigation"),value:"600"},{label:(0,p.__)("Bold","flexible-page-navigation"),value:"700"},{label:(0,p.__)("Extra Bold","flexible-page-navigation"),value:"800"}],onChange:function(e){return t({mainItemFontWeight:e})},help:(0,p.__)("Font weight for main menu items (level 0)","flexible-page-navigation")}),React.createElement(b.RangeControl,{label:(0,p.__)("Font Size","flexible-page-navigation"),value:D,onChange:function(e){return t({mainItemFontSize:e})},min:12,max:24,help:(0,p.__)("Font size for main menu items in pixels","flexible-page-navigation")}),React.createElement("div",null,React.createElement("label",null,(0,p.__)("Text Color","flexible-page-navigation")),React.createElement(v.ColorPalette,{value:F,onChange:function(e){return t({mainItemTextColor:e})}}))),React.createElement(b.PanelBody,{title:(0,p.__)("Colors","flexible-page-navigation"),initialOpen:!1},React.createElement("div",null,React.createElement("label",null,(0,p.__)("Background Color","flexible-page-navigation")),React.createElement(v.ColorPalette,{value:C,onChange:function(e){return t({backgroundColor:e})}})),React.createElement("div",null,React.createElement("label",null,(0,p.__)("Text Color","flexible-page-navigation")),React.createElement(v.ColorPalette,{value:E,onChange:function(e){return t({textColor:e})}})),React.createElement("div",null,React.createElement("label",null,(0,p.__)("Active Background Color","flexible-page-navigation")),React.createElement(v.ColorPalette,{value:y,onChange:function(e){return t({activeBackgroundColor:e})}})),React.createElement("div",null,React.createElement("label",null,(0,p.__)("Active Text Color","flexible-page-navigation")),React.createElement(v.ColorPalette,{value:R,onChange:function(e){return t({activeTextColor:e})}})),React.createElement("div",null,React.createElement("label",null,(0,p.__)("Child Active Background Color","flexible-page-navigation")),React.createElement(v.ColorPalette,{value:S,onChange:function(e){return t({childActiveBackgroundColor:e})}})),React.createElement("div",null,React.createElement("label",null,(0,p.__)("Child Active Text Color","flexible-page-navigation")),React.createElement(v.ColorPalette,{value:P,onChange:function(e){return t({childActiveTextColor:e})}})))),React.createElement("div",z,React.createElement("div",{className:"fpn-editor-preview"},React.createElement("h4",null,(0,p.__)("Flexible Page Navigation","flexible-page-navigation")),React.createElement("p",null,(0,p.__)("Content Type:","flexible-page-navigation")," ",n," |"," ",(0,p.__)("Sort:","flexible-page-navigation")," ",l," (",o,") |"," ",(0,p.__)("Depth:","flexible-page-navigation")," ",i),React.createElement("p",null,(0,p.__)("Child Selection:","flexible-page-navigation")," ",r,"custom"===r&&c>0&&React.createElement("span",null," - ",(0,p.__)("Parent ID:","flexible-page-navigation")," ",c)),React.createElement("p",null,(0,p.__)("Accordion:","flexible-page-navigation")," ",u?(0,p.__)("Enabled","flexible-page-navigation"):(0,p.__)("Disabled","flexible-page-navigation")),React.createElement("p",null,(0,p.__)("Layout:","flexible-page-navigation")," ",g.replace("-"," ").replace(/\b\w/g,function(e){return e.toUpperCase()})))))},save:function(){return null}}),u})());